/**
 * @file localization.h
 * @brief Този файл предоставя помощни функции за управление на локализацията на приложението.
 *
 * Той дефинира функции за зареждане на низове за превод от файлове, извличане на преведен
 * текст въз основа на ключове и обработка на процеса на първоначален избор на език от потребителя.
 */

#ifndef LOCALIZATION_H
#define LOCALIZATION_H

#include <string>
#include <map>

/**
 * @brief Глобална карта за съхраняване на преводи.
 *
 * Тази карта съдържа двойки ключ-стойност, където ключът е оригиналният идентификатор на низ
 * (напр. "MENU_TITLE"), а стойността е преведеният низ на текущо
 * избрания език. Тя е декларирана като extern, тъй като е дефинирана в localization.cpp.
 */
extern std::map<std::string, std::string> g_translations;

/**
 * @brief Зарежда преводи от указан езиков файл в глобалната карта за преводи.
 * @param langCode Низ, представляващ езиковия код (напр. "en", "bg").
 *                  Функцията очаква да съществува файл с име `lang/{langCode}.txt`.
 */
void loadTranslations(const std::string& langCode);

/**
 * @brief Извлича преведен низ за даден ключ.
 * @param key Ключът (оригиналният идентификатор на низ), който да се търси в картата за преводи.
 * @return Постоянна референция към преведения низ. Ако ключът не бъде намерен,
 *         тя връща самия ключ, за да укаже липсващ превод.
 */
const std::string& getTranslatedString(const std::string& key);

/**
 * @brief Насочва потребителя при избор на език на приложението при стартиране.
 *
 * Тази функция показва наличните езикови опции и подканва потребителя да
 * избере една. След това извиква `loadTranslations` с избрания езиков код.
 */
void selectLanguage();

#endif 
